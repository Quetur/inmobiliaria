<link href="/css/bootstrap.bundle.min.js" rel="stylesheet">
<link href="/css/vercard.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.3.min.js"></script>
<head>

</head>
<body>
  <div id="popup">
  <h1><label for="">hola mundo</label>

  </h1>
</div>
</body>

<script>
  let filtro = "/" + document.getElementById("dni").value
  console.log("filtro 1", filtro)
  let url = "/api/calificacion" + filtro
  console.log("servidor ->", url)
  var row = document.createElement('tr');
  console.log("row antes: ", row);

  console.log("inmueble", )

  function _close() {
    document.getElementById('image').click();
  }
  var cel = document.getElementById('celular').value
  console.log(cel)
  document.getElementById('celular').value = '(' + cel.substring(1, 3) + ') ' + cel.substring(3, 7) + '-' + cel.substring(7, 11)
  $("input[name='celular']").keyup(function() {
    console.log("hola")
    var num = $(this).val().replace(/\D/g, '');
    //$(this).val($(this).val().replace(/^(\d{2})(\d{4})(\d+)$/, "($1)$2-$3"));
    $(this).val($(this).val().replace(/^(\d{2})(\d{4})(\d+)$/, "($1) $2-$3"));
  });

  $('#modal-edit').data('row', $(this).closest('tr'));



  console.log("calificaciones", cargarCalificacion())

  function AgregarComentario() {
    console.log("agregarcomentario", document.getElementById("dni").value)
    document.getElementById("agregar_comentario").submit();
  }

  function cargarCalificacion() {
    fetch(url)
      .then(response => response.json())
      .then((responseData) => {
        console.log("calificacion ->", responseData)

        /*
                for (var count = 0; count < responseData.length; count++) {
                  console.log("nota ",count, responseData[count].nota )
                  row.innerHTML = row.innerHTML + `<tr> <td><input id="nota_` + count+ `"value="` + responseData[count].nota +`"></td></tr>`;

              
                }
                console.log("row a agregar: ",count, row.innerHTML);
                calif.appendChild(row);

        */
        largo = -1
        const row = document.createElement('tr');
        responseData.forEach(function() {

          largo++
          console.log("largo", largo)
          //console.log("nota ",largo, cali[largo].nota )
          //  row.innerHTML = row.innerHTML + `<tr> <td><input id="nota_` + count+ `"value="` + cali[largo].nota +`"></td></tr>`;
          console.log("row a agregar: ", largo, row.innerHTML);
          calif.appendChild(row);
        })
      })
  }
</script>